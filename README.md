# ğŸ“– AI Novel Generator - æ™ºèƒ½å°è¯´ç”Ÿæˆå™¨

<div align="center">

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![CustomTkinter](https://img.shields.io/badge/GUI-CustomTkinter-orange.svg)](https://github.com/TomSchimansky/CustomTkinter)

âœ¨ **åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½å°è¯´åˆ›ä½œåŠ©æ‰‹** âœ¨

| åŠŸèƒ½æ¨¡å— | å…³é”®èƒ½åŠ› |
|---------|---------|
| ğŸ¨ å°è¯´è®¾å®šå·¥åŠ | ä¸–ç•Œè§‚æ¶æ„ / è§’è‰²å¼§å…‰ / æƒ…èŠ‚è“å›¾ |
| ğŸ“– æ™ºèƒ½ç« èŠ‚ç”Ÿæˆ | å¤šé˜¶æ®µç”Ÿæˆä¿éšœå‰§æƒ…è¿è´¯æ€§ |
| ğŸ§  çŠ¶æ€è¿½è¸ªç³»ç»Ÿ | è§’è‰²å‘å±•è½¨è¿¹ / ä¼ç¬”ç®¡ç†ç³»ç»Ÿ |
| ğŸ” è¯­ä¹‰æ£€ç´¢å¼•æ“ | åŸºäºå‘é‡çš„é•¿ç¨‹ä¸Šä¸‹æ–‡ä¸€è‡´æ€§ç»´æŠ¤ |
| ğŸ“š çŸ¥è¯†åº“é›†æˆ | æ”¯æŒæœ¬åœ°æ–‡æ¡£ä½œä¸ºåˆ›ä½œå‚è€ƒ |
| âœ… è‡ªåŠ¨å®¡æ ¡æœºåˆ¶ | æ£€æµ‹å‰§æƒ…çŸ›ç›¾ä¸é€»è¾‘å†²çª |
| ğŸ–¥ å¯è§†åŒ–å·¥ä½œå° | å…¨æµç¨‹GUIæ“ä½œï¼Œæ— éœ€ç¼–ç¨‹ |

> é‡‡ç”¨**é›ªèŠ±å†™ä½œæ³•**ã€**è§’è‰²å¼§å…‰ç†è®º**å’Œ**æ‚¬å¿µä¸‰è¦ç´ æ¨¡å‹**ï¼ŒåŠ©æ‚¨é«˜æ•ˆåˆ›ä½œé€»è¾‘ä¸¥è°¨ã€è®¾å®šç»Ÿä¸€çš„é•¿ç¯‡æ•…äº‹

</div>

---

## ğŸ“‘ ç›®å½•

1. [é¡¹ç›®ç‰¹ç‚¹](#-é¡¹ç›®ç‰¹ç‚¹)
2. [æ›´æ–°æ—¥å¿—](#-æ›´æ–°æ—¥å¿—)
3. [ç¯å¢ƒå‡†å¤‡](#-ç¯å¢ƒå‡†å¤‡)
4. [å®‰è£…è¯´æ˜](#-å®‰è£…è¯´æ˜)
5. [é¡¹ç›®æ¶æ„](#-é¡¹ç›®æ¶æ„)
6. [é…ç½®æŒ‡å—](#-é…ç½®æŒ‡å—)
7. [è¿è¡Œè¯´æ˜](#-è¿è¡Œè¯´æ˜)
8. [ä½¿ç”¨æ•™ç¨‹](#-ä½¿ç”¨æ•™ç¨‹)
9. [æ”¯æŒçš„æ¨¡å‹](#-æ”¯æŒçš„æ¨¡å‹)
10. [ç–‘éš¾è§£ç­”](#-ç–‘éš¾è§£ç­”)

---

## â­ é¡¹ç›®ç‰¹ç‚¹

### ğŸ¯ ç†è®ºæ”¯æ’‘
- **é›ªèŠ±å†™ä½œæ³•**ï¼šä»æ ¸å¿ƒæ¦‚å¿µé€æ­¥æ‰©å±•ï¼Œåˆ†å±‚æ„å»ºå®Œæ•´æ•…äº‹
- **è§’è‰²å¼§å…‰ç†è®º**ï¼šç¡®ä¿è§’è‰²åœ¨æ•…äº‹ä¸­ç»å†åˆç†çš„æˆé•¿æˆ–å •è½
- **æ‚¬å¿µä¸‰è¦ç´ æ¨¡å‹**ï¼šåœ¨æ¯ç« ä¸­å¹³è¡¡è§’è‰²å‘å±•ã€ä¸–ç•Œè§‚å±•å¼€å’Œå‰§æƒ…æ¨è¿›

### ğŸ”„ é•¿ç¨‹è¿è´¯ä¿éšœ
- **å‘é‡æ£€ç´¢**ï¼šåŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢å‰æ–‡ç›¸å…³å†…å®¹
- **å…¨å±€æ‘˜è¦**ï¼šç»´æŠ¤æ•…äº‹æ•´ä½“è„‰ç»œ
- **è§’è‰²çŠ¶æ€è¿½è¸ª**ï¼šå®æ—¶è®°å½•è§’è‰²çš„çŠ¶æ€å˜åŒ–
- **ä¼ç¬”ç®¡ç†ç³»ç»Ÿ**ï¼šè‡ªåŠ¨è·Ÿè¸ªå’Œå›æ”¶ä¼ç¬”

### ğŸ’¡ æ™ºèƒ½åŠŸèƒ½
- **æ–­ç‚¹ç»­ä¼ **ï¼šæ¶æ„ç”Ÿæˆå’Œç›®å½•ç”Ÿæˆæ”¯æŒä¸­æ–­åç»§ç»­
- **æµå¼è¾“å‡º**ï¼šå®æ—¶æŸ¥çœ‹ç”Ÿæˆå†…å®¹ï¼Œæ— éœ€ç­‰å¾…
- **æ™ºèƒ½åˆ†å—**ï¼šæ ¹æ®æ¨¡å‹ä¸Šä¸‹æ–‡é™åˆ¶è‡ªåŠ¨åˆ†å—ç”Ÿæˆ
- **çŸ¥è¯†åº“é›†æˆ**ï¼šæ”¯æŒå¯¼å…¥æœ¬åœ°æ–‡æ¡£ä½œä¸ºåˆ›ä½œå‚è€ƒ

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### 2025-03
- æ–°å¢è§’è‰²åº“åŠŸèƒ½ï¼Œæ”¯æŒè§’è‰²åˆ†ç±»ç®¡ç†
- æ·»åŠ å®æ—¶å­—æ•°æ˜¾ç¤º
- ä¼˜åŒ–æ¶æ„ç”Ÿæˆå‘å¯¼ï¼Œæ”¯æŒæµå¼è¾“å‡º
- æ”¹è¿›ç« èŠ‚ç›®å½•ç”Ÿæˆå¯¹è¯æ¡†ï¼Œæ”¯æŒç”Ÿæˆä¸­å®æ—¶æŸ¥çœ‹å’Œç¼–è¾‘
- ä¿®å¤å¤šå¤„ç¨³å®šæ€§é—®é¢˜

### 2025-02
- æ·»åŠ æ¶æ„ç”Ÿæˆå‘å¯¼ï¼Œåˆ†æ­¥éª¤ç”Ÿæˆå°è¯´è®¾å®š
- æ”¯æŒå¤šç§Embeddingæä¾›å•†
- æ–°å¢ä¸€è‡´æ€§æ£€æŸ¥åŠŸèƒ½

### 2025-01
- é¡¹ç›®åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒåŸºæœ¬çš„å°è¯´ç”Ÿæˆæµç¨‹

---

## ğŸ›  ç¯å¢ƒå‡†å¤‡

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11, macOS, Linux
- **Python**ï¼š3.9 - 3.12ï¼ˆæ¨è3.10æˆ–3.11ï¼‰
- **å†…å­˜**ï¼šå»ºè®® 8GB+
- **å­˜å‚¨**ï¼šæ ¹æ®å°è¯´é•¿åº¦ï¼Œå»ºè®®é¢„ç•™ 1GB+ ç©ºé—´

### API å¯†é’¥
éœ€è¦ä»¥ä¸‹è‡³å°‘ä¸€ç§æœåŠ¡çš„APIå¯†é’¥ï¼š
- **äº‘ç«¯æœåŠ¡**ï¼šOpenAI, DeepSeek, Azure OpenAI, Google Gemini ç­‰
- **æœ¬åœ°æœåŠ¡**ï¼šOllama, LM Studio ç­‰å…¼å®¹ OpenAI æ¥å£çš„æœåŠ¡

---

## ğŸ“¥ å®‰è£…è¯´æ˜

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/YILING0013/AI_NovelGenerator.git
cd AI_NovelGenerator
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰

```bash
# Windows
python -m venv .venv
.venv\Scripts\activate

# macOS/Linux
python -m venv .venv
source .venv/bin/activate
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

> **æ³¨æ„**ï¼šå¦‚æœåœ¨Windowsä¸Šå®‰è£…ä¾èµ–æ—¶é‡åˆ°ç¼–è¯‘é”™è¯¯ï¼Œéœ€è¦å®‰è£… [Visual Studio Build Tools](https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/)ï¼Œå¹¶å‹¾é€‰ **"C++æ¡Œé¢å¼€å‘"** ç»„ä»¶ã€‚

### 4. è¿è¡Œç¨‹åº

```bash
python main.py
```

---

## ğŸ—‚ é¡¹ç›®æ¶æ„

```
AI_NovelGenerator/
â”œâ”€â”€ main.py                      # ç¨‹åºå…¥å£
â”œâ”€â”€ config.json                  # ç”¨æˆ·é…ç½®ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ requirements.txt             # ä¾èµ–æ¸…å•
â”œâ”€â”€ icon.ico                     # åº”ç”¨å›¾æ ‡
â”œâ”€â”€ LICENSE                      # å¼€æºåè®®
â”‚
â”œâ”€â”€ llm_adapters.py              # LLMæ¥å£é€‚é…å™¨ï¼ˆæ”¯æŒ10+æä¾›å•†ï¼‰
â”œâ”€â”€ embedding_adapters.py        # Embeddingæ¥å£é€‚é…å™¨
â”œâ”€â”€ config_manager.py            # é…ç½®ç®¡ç†
â”œâ”€â”€ consistency_checker.py       # ä¸€è‡´æ€§æ£€æŸ¥
â”œâ”€â”€ prompt_definitions.py        # AIæç¤ºè¯å®šä¹‰
â”œâ”€â”€ chapter_directory_parser.py  # ç« èŠ‚ç›®å½•è§£æå™¨
â”œâ”€â”€ utils.py                     # å·¥å…·å‡½æ•°
â”œâ”€â”€ tooltips.py                  # ç•Œé¢æç¤ºæ–‡æœ¬
â”‚
â”œâ”€â”€ novel_generator/             # æ ¸å¿ƒç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ architecture.py          # ä¸–ç•Œè§‚æ¶æ„ç”Ÿæˆ
â”‚   â”œâ”€â”€ architecture_wizard.py   # æ¶æ„ç”Ÿæˆå‘å¯¼
â”‚   â”œâ”€â”€ blueprint.py             # ç« èŠ‚ç›®å½•ç”Ÿæˆ
â”‚   â”œâ”€â”€ blueprint_stream.py      # æµå¼ç›®å½•ç”Ÿæˆ
â”‚   â”œâ”€â”€ chapter.py               # ç« èŠ‚ç”Ÿæˆæ ¸å¿ƒ
â”‚   â”œâ”€â”€ common.py                # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ finalization.py          # ç« èŠ‚å®šç¨¿å¤„ç†
â”‚   â”œâ”€â”€ knowledge.py             # çŸ¥è¯†åº“é›†æˆ
â”‚   â”œâ”€â”€ stream_utils.py          # æµå¼è¾“å‡ºå·¥å…·
â”‚   â””â”€â”€ vectorstore_utils.py     # å‘é‡æ•°æ®åº“å·¥å…·
â”‚
â”œâ”€â”€ ui/                          # å›¾å½¢ç•Œé¢æ¨¡å—
â”‚   â”œâ”€â”€ main_window.py           # ä¸»çª—å£
â”‚   â”œâ”€â”€ novel_manager.py         # å°è¯´ç®¡ç†å™¨
â”‚   â”œâ”€â”€ role_library.py          # è§’è‰²åº“ç®¡ç†
â”‚   â”œâ”€â”€ main_tab.py              # ä¸»æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ config_tab.py            # é…ç½®æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ novel_params_tab.py      # å°è¯´å‚æ•°æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ setting_tab.py           # è®¾å®šç®¡ç†æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ directory_tab.py         # ç›®å½•ç®¡ç†æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ character_tab.py         # è§’è‰²ç®¡ç†æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ summary_tab.py           # æ‘˜è¦ç®¡ç†æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ chapters_tab.py          # ç« èŠ‚ç®¡ç†æ ‡ç­¾é¡µ
â”‚   â”œâ”€â”€ generation_handlers.py   # ç”Ÿæˆå¤„ç†é€»è¾‘
â”‚   â”œâ”€â”€ chapter_directory_dialog.py # ç›®å½•ç”Ÿæˆå¯¹è¯æ¡†
â”‚   â””â”€â”€ helpers.py               # ç•Œé¢è¾…åŠ©å‡½æ•°
â”‚
â””â”€â”€ data/                        # æ•°æ®å­˜å‚¨
    â”œâ”€â”€ default_cover.png
    â””â”€â”€ novels/                  # å°è¯´å­˜å‚¨ç›®å½•
        â””â”€â”€ {novel_id}/
            â”œâ”€â”€ novel_info.json          # å°è¯´å…ƒæ•°æ®
            â”œâ”€â”€ Novel_architecture.txt   # ä¸–ç•Œè§‚æ¶æ„
            â”œâ”€â”€ Novel_directory.txt      # ç« èŠ‚ç›®å½•
            â”œâ”€â”€ character_state.txt      # è§’è‰²çŠ¶æ€
            â”œâ”€â”€ global_summary.txt       # å…¨å±€æ‘˜è¦
            â”œâ”€â”€ plot_arcs.txt            # å‰§æƒ…è¦ç‚¹
            â”œâ”€â”€ è§’è‰²åº“/                   # è§’è‰²åº“
            â”œâ”€â”€ chapters/                # ç« èŠ‚æ­£æ–‡
            â””â”€â”€ vectorstore/             # å‘é‡æ•°æ®åº“
```

---

## âš™ï¸ é…ç½®æŒ‡å—

### é¦–æ¬¡å¯åŠ¨é…ç½®

é¦–æ¬¡è¿è¡Œç¨‹åºæ—¶ï¼Œéœ€è¦åœ¨"APIé…ç½®"æ ‡ç­¾é¡µè®¾ç½®ä»¥ä¸‹å‚æ•°ï¼š

#### ç”Ÿæˆæ¨¡å‹é…ç½®
| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|------|
| `api_key` | APIå¯†é’¥ | `sk-xxxxxxxx` |
| `base_url` | APIåŸºç¡€URL | `https://api.openai.com/v1` |
| `interface_format` | æ¥å£æ ¼å¼ | `OpenAI` / `DeepSeek` / `Ollama` ç­‰ |
| `model_name` | æ¨¡å‹åç§° | `gpt-4o-mini` / `deepseek-chat` |
| `temperature` | åˆ›æ„åº¦(0-1) | `0.7`ï¼ˆè¶Šé«˜è¶Šåˆ›é€ æ€§ï¼‰ |
| `max_tokens` | æœ€å¤§è¾“å‡ºé•¿åº¦ | `4096` |

#### Embeddingæ¨¡å‹é…ç½®
| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|------|
| `embedding_api_key` | Embedding APIå¯†é’¥ | `sk-xxxxxxxx` |
| `embedding_url` | EmbeddingæœåŠ¡URL | `https://api.openai.com/v1` |
| `embedding_interface_format` | æ¥å£æ ¼å¼ | `OpenAI` / `Ollama` ç­‰ |
| `embedding_model_name` | æ¨¡å‹åç§° | `text-embedding-ada-002` |
| `embedding_retrieval_k` | æ£€ç´¢æ•°é‡ | `4`ï¼ˆæ¯ç« æ£€ç´¢å¤šå°‘æ¡ç›¸å…³å†…å®¹ï¼‰ |

#### å°è¯´å‚æ•°é…ç½®
| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|------|
| `topic` | å°è¯´ä¸»é¢˜ | `"åºŸåœŸä¸–ç•Œçš„AIå›ä¹±"` |
| `genre` | å°è¯´ç±»å‹ | `"ç§‘å¹»"` / `"ç„å¹»"` / `"éƒ½å¸‚"` |
| `num_chapters` | æ€»ç« èŠ‚æ•° | `120` |
| `word_number` | æ¯ç« å­—æ•° | `4000` |
| `filepath` | ä¿å­˜è·¯å¾„ | `D:/MyNovels/Project1` |

### é…ç½®ç¤ºä¾‹ï¼ˆconfig.jsonï¼‰

```json
{
    "api_key": "sk-XXXXXXXXXXXXXXXXXXXXXXXX",
    "base_url": "https://api.openai.com/v1",
    "interface_format": "OpenAI",
    "model_name": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 4096,
    "embedding_api_key": "sk-XXXXXXXXXXXXXXXXXXXXXXXX",
    "embedding_interface_format": "OpenAI",
    "embedding_url": "https://api.openai.com/v1",
    "embedding_model_name": "text-embedding-ada-002",
    "embedding_retrieval_k": 4,
    "topic": "æ˜Ÿç©¹é“é“ä¸»è§’ç©¿è¶Šåˆ°åŸç¥æç“¦ç‰¹å¤§é™†çš„å†’é™©æ•…äº‹",
    "genre": "ç„å¹»",
    "num_chapters": 100,
    "word_number": 4000,
    "filepath": "D:/AI_NovelGenerator/my_novel"
}
```

---

## ğŸš€ è¿è¡Œè¯´æ˜

### æ–¹å¼1ï¼šç›´æ¥è¿è¡Œ

```bash
python main.py
```

### æ–¹å¼2ï¼šæ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶

å¦‚éœ€åœ¨æ— Pythonç¯å¢ƒçš„æœºå™¨ä¸Šè¿è¡Œï¼š

```bash
pip install pyinstaller
pyinstaller main.spec
```

æ‰“åŒ…å®Œæˆåï¼Œåœ¨ `dist/` ç›®å½•ä¸‹æ‰¾åˆ° `main.exe`ï¼ˆWindowsï¼‰æˆ–å¯¹åº”å¯æ‰§è¡Œæ–‡ä»¶ã€‚

---

## ğŸ“˜ ä½¿ç”¨æ•™ç¨‹

### å¿«é€Ÿå¼€å§‹

#### Step 1: åˆ›å»ºå°è¯´
1. åœ¨"å°è¯´ç®¡ç†"æ ‡ç­¾é¡µç‚¹å‡»"æ–°å»ºå°è¯´"
2. å¡«å†™å°è¯´åŸºæœ¬ä¿¡æ¯ï¼ˆä¸»é¢˜ã€ç±»å‹ã€ç« èŠ‚æ•°ç­‰ï¼‰
3. è®¾ç½®ä¿å­˜è·¯å¾„

#### Step 2: ç”Ÿæˆè®¾å®šï¼ˆä¸–ç•Œè§‚æ¶æ„ï¼‰
1. ç‚¹å‡»"Step1. ç”Ÿæˆè®¾å®š"
2. ä½¿ç”¨æ¶æ„ç”Ÿæˆå‘å¯¼åˆ†æ­¥éª¤ç”Ÿæˆï¼š
   - æ ¸å¿ƒç§å­ï¼ˆä¸»é¢˜å®šä½ï¼‰
   - ä¸–ç•Œè§‚æ„å»º
   - è§’è‰²åŠ¨åŠ›å­¦è®¾å®š
   - ä¸‰å¹•å¼æƒ…èŠ‚æ¶æ„
3. ç”Ÿæˆçš„è®¾å®šä¿å­˜åœ¨ `Novel_architecture.txt`

#### Step 3: ç”Ÿæˆç« èŠ‚ç›®å½•
1. ç‚¹å‡»"Step2. ç”Ÿæˆç›®å½•"
2. è®¾ç½®ç”ŸæˆèŒƒå›´ï¼ˆèµ·å§‹ç« èŠ‚-ç»“æŸç« èŠ‚ï¼‰
3. å¡«å†™ç”Ÿæˆè¦æ±‚ï¼ˆå¯é€‰ï¼‰
4. ç‚¹å‡»"å¼€å§‹ç”Ÿæˆ"ï¼Œå®æ—¶æŸ¥çœ‹ç”Ÿæˆå†…å®¹
5. ç”Ÿæˆçš„ç›®å½•ä¿å­˜åœ¨ `Novel_directory.txt`

#### Step 4: ç”Ÿæˆç« èŠ‚è‰ç¨¿
1. ç‚¹å‡»"Step3. ç”Ÿæˆç« èŠ‚è‰ç¨¿"
2. è®¾ç½®ç« èŠ‚å·
3. å¡«å†™æœ¬ç« æŒ‡å¯¼å†…å®¹ï¼ˆå¯é€‰ï¼‰
4. ç‚¹å‡»"ç”Ÿæˆè‰ç¨¿"
5. ç”Ÿæˆçš„å†…å®¹æ˜¾ç¤ºåœ¨ç¼–è¾‘åŒº

#### Step 5: å®šç¨¿ç« èŠ‚
1. ç¼–è¾‘å¹¶ç¡®è®¤ç« èŠ‚å†…å®¹
2. ç‚¹å‡»"Step4. å®šç¨¿å½“å‰ç« èŠ‚"
3. ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°ï¼š
   - å…¨å±€æ‘˜è¦
   - è§’è‰²çŠ¶æ€
   - å‘é‡æ•°æ®åº“
   - å‰§æƒ…è¦ç‚¹

#### Step 6: å¾ªç¯ç”Ÿæˆ
é‡å¤ Step 4-5 ç›´åˆ°å®Œæˆæ‰€æœ‰ç« èŠ‚

### è¿›é˜¶åŠŸèƒ½

#### çŸ¥è¯†åº“é›†æˆ
1. åœ¨"çŸ¥è¯†åº“"æ ‡ç­¾é¡µç‚¹å‡»"å¯¼å…¥çŸ¥è¯†æ–‡ä»¶"
2. é€‰æ‹©æœ¬åœ°æ–‡æ¡£ï¼ˆæ”¯æŒtxt, pdf, docxç­‰ï¼‰
3. ç”Ÿæˆç« èŠ‚æ—¶ä¼šè‡ªåŠ¨æ£€ç´¢ç›¸å…³å†…å®¹ä½œä¸ºå‚è€ƒ

#### ä¸€è‡´æ€§æ£€æŸ¥
1. ç”Ÿæˆç« èŠ‚åï¼Œç‚¹å‡»"ä¸€è‡´æ€§å®¡æ ¡"
2. ç³»ç»Ÿæ£€æµ‹å‰§æƒ…çŸ›ç›¾ã€è§’è‰²é€»è¾‘å†²çªç­‰
3. æ ¹æ®æç¤ºä¿®æ”¹å†…å®¹

#### è§’è‰²åº“ç®¡ç†
1. åœ¨"è§’è‰²åº“"æ ‡ç­¾é¡µæŸ¥çœ‹æ‰€æœ‰è§’è‰²
2. æ”¯æŒæŒ‰åˆ†ç±»æŸ¥çœ‹ï¼ˆå…¨éƒ¨/ä¸»è¦/æ¬¡è¦ç­‰ï¼‰
3. ç‚¹å‡»è§’è‰²åç§°å¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

---

## ğŸ¤– æ”¯æŒçš„æ¨¡å‹

### ç”Ÿæˆæ¨¡å‹

| æä¾›å•† | æ¥å£æ ¼å¼ | è¯´æ˜ |
|-------|---------|------|
| OpenAI | `OpenAI` | GPT-3.5/GPT-4ç³»åˆ— |
| DeepSeek | `DeepSeek` | deepseek-chat/v3 |
| Azure OpenAI | `Azure OpenAI` | å¾®è½¯äº‘æœåŠ¡ |
| Google Gemini | `Gemini` | gemini-proç­‰ |
| Ollama | `Ollama` | æœ¬åœ°éƒ¨ç½² |
| LM Studio | `LM Studio` | æœ¬åœ°GUIå·¥å…· |
| Azure AI | `Azure AI` | Azure AI Inference |
| ç«å±±å¼•æ“ | `ç«å±±å¼•æ“` | å­—èŠ‚è·³åŠ¨äº‘æœåŠ¡ |
| ç¡…åŸºæµåŠ¨ | `ç¡…åŸºæµåŠ¨` | SiliconFlow |
| é˜¿é‡Œäº‘ç™¾ç‚¼ | `é˜¿é‡Œäº‘ç™¾ç‚¼` | é˜¿é‡Œäº‘æœåŠ¡ |

### Embeddingæ¨¡å‹

| æä¾›å•† | æ¨èæ¨¡å‹ |
|-------|---------|
| OpenAI | `text-embedding-ada-002` |
| Azure OpenAI | `text-embedding-ada-002` |
| Ollama | `nomic-embed-text` |
| LM Studio | æ ¹æ®æœ¬åœ°éƒ¨ç½²é€‰æ‹© |
| Gemini | `text-embedding-004` |
| SiliconFlow | `BAAI/bge-large-zh-v1.5` |

### æœ¬åœ°éƒ¨ç½²ï¼ˆOllamaï¼‰

```bash
# å¯åŠ¨OllamaæœåŠ¡
ollama serve

# ä¸‹è½½ç”Ÿæˆæ¨¡å‹
ollama pull qwen2.5:14b

# ä¸‹è½½Embeddingæ¨¡å‹
ollama pull nomic-embed-text
```

---

## â“ ç–‘éš¾è§£ç­”

### Q1: Expecting value: line 1 column 1 (char 0)
**åŸå› **ï¼šAPIè¿”å›äº†éJSONæ ¼å¼å†…å®¹ï¼ˆå¯èƒ½æ˜¯HTMLé”™è¯¯é¡µé¢ï¼‰
**è§£å†³**ï¼š
1. æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦ç¨³å®š
3. æŸ¥çœ‹æœåŠ¡å•†æ˜¯å¦æœ‰æœåŠ¡ä¸­æ–­

### Q2: HTTP/1.1 504 Gateway Timeout
**åŸå› **ï¼šè¯·æ±‚è¶…æ—¶
**è§£å†³**ï¼š
1. å¢åŠ è¶…æ—¶æ—¶é—´è®¾ç½®
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. å¦‚æœæ˜¯æœ¬åœ°æœåŠ¡ï¼Œæ£€æŸ¥Ollamaæ˜¯å¦æ­£å¸¸è¿è¡Œ

### Q3: å¦‚ä½•åˆ‡æ¢Embeddingæä¾›å•†ï¼Ÿ
**è§£å†³**ï¼šåœ¨"APIé…ç½®"æ ‡ç­¾é¡µçš„Embeddingéƒ¨åˆ†ä¿®æ”¹é…ç½®ï¼Œåˆ‡æ¢åå»ºè®®æ¸…ç©º `data/novels/{novel_id}/vectorstore/` ç›®å½•é‡æ–°ç”Ÿæˆã€‚

### Q4: ç”Ÿæˆçš„å†…å®¹ä¸è¿è´¯
**åŸå› **ï¼šå¯èƒ½æ˜¯Embeddingæ£€ç´¢å¤±è´¥æˆ–å‘é‡åº“æœªæ­£ç¡®æ„å»º
**è§£å†³**ï¼š
1. æ£€æŸ¥Embeddingé…ç½®æ˜¯å¦æ­£ç¡®
2. æ¸…ç©ºvectorstoreç›®å½•é‡æ–°ç”Ÿæˆ
3. ç¡®ä¿å®šç¨¿æ—¶æˆåŠŸæ›´æ–°äº†å‘é‡åº“

### Q5: å¦‚ä½•å¤‡ä»½æˆ‘çš„å°è¯´ï¼Ÿ
**è§£å†³**ï¼šæ•´ä¸ª `data/novels/{novel_id}/` ç›®å½•å°±æ˜¯å®Œæ•´çš„å°è¯´æ•°æ®ï¼Œç›´æ¥å¤åˆ¶è¯¥ç›®å½•å³å¯å¤‡ä»½ã€‚

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**æ³¨æ„**ï¼šç›®å‰ä½œè€…æ—¶é—´æœ‰é™ï¼Œæ›´æ–°å¯èƒ½è¾ƒæ…¢ï¼Œæ•¬è¯·è°…è§£ã€‚